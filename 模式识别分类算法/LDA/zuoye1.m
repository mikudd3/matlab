%作业1
clc
clear
%训练数据
%类别一

train1 = [864.45 1647.31 2665.9
867.81 2334.68	2535.1
1243.13	1814.07	3441.07
1495.18	1957.44	3498.02
1269.07	1910.72	2701.97
1125.17	1594.39	2937.73
1494.63	2072.59	2550.51
877.88	2031.66	3071.18
1418.79	1775.89	2772.9
1449.58	1641.58	3405.12];
%类别2
train2 = [2352.12 2557.04 1411.53
2297.28	3340.14	535.62
2092.62	3177.21	584.32
2336.31	2640.26	1599.63
2374.98	3346.98	975.31
2271.89	3482.97	946.7
2144.47	2501.62	591.51
2201.94	3196.22	935.53
2232.43	3077.87	1298.87
2205.36	3243.74	1202.69
2949.16	3244.44	662.42
2802.88	3017.11	1984.98
2063.54	3199.76	1257.21];
%类别3
train3 = [1739.94 1675.15 2395.96
1756.77	1652	1514.98
1803.58	1583.12	2163.05
1783.64	1597.99	2261.31
1571.17	1731.04	1735.33
1802.07	1725.81	1966.35
1817.36	1927.4	2328.79
1860.45	1782.88	1875.13
1597.03	1921.52	2126.76
1580.1	1752.07	2463.04
1962.4	1594.97	1835.95
1598.93	1921.08	1623.33
1507.13	1556.89	1954.51
1845.59	1918.81	2226.49
1692.62	1867.5	2108.97
1831.49	1713.11	1604.68
1680.67	1575.78	1725.1
1702.8	1639.79	2068.74
1877.93	1860.96	1975.3
1651.52	1713.28	1570.38];
%类别4
train4 = [373.3	3087.05	2429.47
222.85	3059.54	2002.33
401.3	3259.94	2150.98
363.34	3477.95	2462.86
104.8	3389.83	2421.83
354	3300.12	2373.61
460.69	3274.77	2172.99
499.85	3305.75	2196.22
172.78	3084.49	2328.65
341.59	3076.62	2438.63
24.22	3447.31	2145.01
198.83	3250.45	2445.08
343.07	3271.72	2036.94
291.02	3095.68	2088.95
426.31	3105.29	2057.8
237.63	3077.78	2251.96];

[n1,m1] = size(train1);
[n2,m2] = size(train2);
[n3,m3] = size(train3);
[n4,m4] = size(train4);
%画出原始空间分布图，
figure;
plot3(train1(:,1),train1(:,2),train1(:,3),'r+');
hold on;
plot3(train2(:,1),train2(:,2),train2(:,3),'b+');
hold on;
plot3(train3(:,1),train3(:,2),train3(:,3),'g+');
hold on;
plot3(train4(:,1),train4(:,2),train4(:,3),'k+');
hold on;
grid;
title('分为一二三四类分布图');
%数据
train = [train1;train2;train3;train4];
%样本种类
train_label = [1
1
1
1
1
1
1
1
1
1
2
2
2
2
2
2
2
2
2
2
2
2
2
3
3
3
3
3
3
3
3
3
3
3
3
3
3
3
3
3
3
3
3
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4
4];
%训练样本种类数目
train_number = size(unique(train_label),1);
%代入LDA训练
[Sw,Sb,mu_i,ci,W] = LDA(train,train_label,train_number);
%把原样本投影到最优空间上
y = train*(W(:,1)./norm(W(:,1)));

y = abs(y);
y1 = y(1:10,:);
y2 = y(11:23,:);
y3 = y(24:43,:);
y4 = y(44:59,:);

figure;
plot3(y1(:,1),y1(:,1),y1(:,1),'r+');
hold on;
plot3(y2(:,1),y2(:,1),y2(:,1),'b+');
hold on;
plot3(y3(:,1),y3(:,1),y3(:,1),'g+');
hold on;
plot3(y4(:,1),y4(:,1),y4(:,1),'k+');
hold on;
grid;
title('最优方向上的投影分布结果图');
